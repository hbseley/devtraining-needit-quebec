<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Update Address (Template)">9df7ffc32fa130106daee36ef699b65b</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"9b2e3fa73e1c4d0f85303f5f4a3fae76","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"9b2e3fa73e1c4d0f85303f5f4a3fae76"}],"goals":[{"name":"primary","trigger_id":"9b2e3fa73e1c4d0f85303f5f4a3fae76","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"b3ea68f5cac2421aa8c4f98f508aa3e0","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"801e355d3842402bb2c3d008a311b022","name":"End"},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"user={{vaInputs.user}}","variable_id":"9b107b09c73e41ebaf9da704e6daaf1d","id":"b9a7a2ed5de6451d84f1334d08dfd230","name":"User profile","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":"user={{vaInputs.user}}"}},{"type":"ScriptOutputPrompt","output_type":"single_part","id":"269ae77b44914873a12e65629f9bea3e","name":"Get current address","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","mode":"string","value":"(function execute() {\n    var profileGr = new GlideRecord('sn_hr_core_profile');\n     profileGr.addQuery('sys_id', vaInputs.user_profile);\n     profileGr.query();\n     vaVars.currentAddressMessage=\"\";\n     if(profileGr.next()){\n        vaVars.currentAddress = profileGr.getDisplayValue('address');\n        if(vaVars.currentAddress!=\"\")\n        vaVars.currentAddressMessage = gs.getMessage(\"This is the address we have on file for you: \");\n     }\n     else\n     vaVars.currentAddressMessage = \"\";\n})()\n"},"secure":false},{"type":"HtmlOutputPrompt","height":0,"width":0,"id":"dbdcd0724b854098b759e7ba52177fce","name":"Display current address message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.currentAddressMessage!=\"\")\n    return true;\n    return false;\n})()\n"},"value":{"type":"String","mode":"string","value":"&lt;html&gt;\n    &lt;body&gt;\n    {{vaVars.currentAddressMessage}}\n    &lt;/body&gt;\n&lt;/html&gt;\n"},"secure":false},{"type":"InputPrompt","variable_id":"cf6fd7924f394587a0f8ef2b4341196b","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"What should your address be instead (max. 255 characters)?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"c62e587d81944b349005a18a4116e47b","name":"New Address","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"CRUDAction","mode":"update","query":"address={{vaInputs.new_address}}","variable_id":"9b107b09c73e41ebaf9da704e6daaf1d","id":"d343d60450cd44c0bad1c97011d5f970","name":"Update address","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptOutputPrompt","output_type":"single_part","id":"ade083757e0440ef843bc4a8516889ad","name":"Address length check","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","mode":"string","value":"(function execute() {\n    \n    if(vaInputs.new_address.getValue()){\n        vaVars.addressLength = vaInputs.new_address.getValue().length;\n        gs.info(\"vaVars.addressLength\"+vaVars.addressLength);\n        if(vaVars.addressLength &gt; 255 || vaVars.addressLength == 0)\n            vaVars.isAddressBigOrNull = true; \n        else\n            vaVars.isAddressBigOrNull = false;\n    }\n    else\n    vaVars.isAddressBigOrNull = true;\n    return '';\n})()\n"},"secure":false},{"type":"Decision","name":"Is Address too long or null?","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.isAddressBigOrNull;\n})()\n"},"id":"40615c8bc3a747ffb72d979aa7c4221e","name":"Yes"},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.isAddressBigOrNull;\n})()\n"},"id":"e7b39fcb272c46069d5161362165d348","name":"No"}],"id":"b31a483a7acc49bfafe499d1e656ea5e","goal_id":"primary"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"1e4e4cd8269f495db4f96485d108e681","name":"User choice","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"740ede3ba6d2476c8aad9e1855c46b85","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"What would you like to do?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"Decision","name":"Update address required?","branches":[{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"user_choice=update_address"},"id":"6b981ca5663d469a966d27406106ebda","name":"Yes"},{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"user_choice=keep_current_address"},"id":"f9200aa3177942df855eb7228c25d484","name":"No"}],"id":"d100382ff97641888e4f89e400632010","goal_id":"primary"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage(\"I've updated your address to {0}\",vaInputs.new_address);\n})()\n"},"id":"e65e5c429b2940d899b1c4a34d2055af","name":"Display confirmation message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Profile Found","expression":{"type":"Applicability","mode":"query","value":"user_profileISNOTEMPTY"},"id":"191e8a345eab40d99325831e3a1d55d4","name":"Profile Found"},{"type":"Branch","label":"Profile Not Found","expression":{"type":"Applicability","mode":"query","value":"user_profileISEMPTY"},"id":"774f7f5b30b64a31a397c40af9ad82e5","name":"Profile Not Found"}],"id":"7c25f11986d74d309ec1ff2f2cffa80d","goal_id":"primary"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"I did not find your profile information.\", vaContext.getRequesterLang())"},"id":"0a1edf3aa0e146c19cfceefeced1f092","name":"User profile not found","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Address Found","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n   return (vaVars.currentAddress != \"\");\n})()\n"},"id":"d17e67b3692e44a7b202fbbe77110baf","name":"Address Found"},{"type":"Branch","label":"Address Not found","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return (vaVars.currentAddress == \"\");\n})()\n"},"id":"cb81af04640147de8d10361d94a5b40d","name":"Address Not found"}],"id":"8c7206f6f58c4768b58a391e1e2023ec","goal_id":"primary"},{"type":"RecordOutputPrompt","mode":"query","table":"sn_hr_core_profile","fields":["address"],"id":"27ac1cd79e30420c90b6c2f01dc1598a","name":"Display current address ","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"reference_qualifier_condition":"sys_id={{vaInputs.user_profile.sys_id}}","condition":{"type":"Condition","mode":"glide_query","value":"sys_id={{vaInputs.user_profile.sys_id}}"}}],"edges":[{"type":"Edge","source_node_id":"b31a483a7acc49bfafe499d1e656ea5e","target_node_id":"c62e587d81944b349005a18a4116e47b","branch_id":"40615c8bc3a747ffb72d979aa7c4221e","id":"3dff360fc3584db2a45bcfd067797ceb","name":"40615c8bc3a747ffb72d979aa7c4221e"},{"type":"Edge","source_node_id":"e65e5c429b2940d899b1c4a34d2055af","target_node_id":"801e355d3842402bb2c3d008a311b022","id":"7799969733fd486480a384b34d7f7058"},{"type":"Edge","source_node_id":"b3ea68f5cac2421aa8c4f98f508aa3e0","target_node_id":"b9a7a2ed5de6451d84f1334d08dfd230","id":"4430eba6170d405290ff2e904ccc103a"},{"type":"Edge","source_node_id":"c62e587d81944b349005a18a4116e47b","target_node_id":"ade083757e0440ef843bc4a8516889ad","id":"1d1a436885a24b0fa8760cd98d2c1b92"},{"type":"Edge","source_node_id":"ade083757e0440ef843bc4a8516889ad","target_node_id":"b31a483a7acc49bfafe499d1e656ea5e","id":"f7cbae2fd33149a1849dbb4d2de69f1f"},{"type":"Edge","source_node_id":"b31a483a7acc49bfafe499d1e656ea5e","target_node_id":"d343d60450cd44c0bad1c97011d5f970","branch_id":"e7b39fcb272c46069d5161362165d348","id":"bdeb097bfa704d74ba3bfd4b71d342fc","name":"e7b39fcb272c46069d5161362165d348"},{"type":"Edge","source_node_id":"1e4e4cd8269f495db4f96485d108e681","target_node_id":"d100382ff97641888e4f89e400632010","id":"b5be47fbe80d43be9fb6d1fa4f33843c"},{"type":"Edge","source_node_id":"d100382ff97641888e4f89e400632010","target_node_id":"c62e587d81944b349005a18a4116e47b","branch_id":"6b981ca5663d469a966d27406106ebda","id":"35a5c2af7be14ce2a549cf8c10beb58c","name":"6b981ca5663d469a966d27406106ebda"},{"type":"Edge","source_node_id":"d100382ff97641888e4f89e400632010","target_node_id":"801e355d3842402bb2c3d008a311b022","branch_id":"f9200aa3177942df855eb7228c25d484","id":"38c87927a92f4cabbcd56bd89800e733","name":"f9200aa3177942df855eb7228c25d484"},{"type":"Edge","source_node_id":"d343d60450cd44c0bad1c97011d5f970","target_node_id":"e65e5c429b2940d899b1c4a34d2055af","id":"5e5af87bb8ea4123b06b60f700e1ebe8"},{"type":"Edge","source_node_id":"b9a7a2ed5de6451d84f1334d08dfd230","target_node_id":"7c25f11986d74d309ec1ff2f2cffa80d","id":"6528aa427bed483586eef0f95a9b1ff9"},{"type":"Edge","source_node_id":"7c25f11986d74d309ec1ff2f2cffa80d","target_node_id":"269ae77b44914873a12e65629f9bea3e","branch_id":"191e8a345eab40d99325831e3a1d55d4","id":"4458472e701b4aa9accd39af494e081e","name":"191e8a345eab40d99325831e3a1d55d4"},{"type":"Edge","source_node_id":"7c25f11986d74d309ec1ff2f2cffa80d","target_node_id":"0a1edf3aa0e146c19cfceefeced1f092","branch_id":"774f7f5b30b64a31a397c40af9ad82e5","id":"8f8bac2c11bb479b8494f769040610bd","name":"774f7f5b30b64a31a397c40af9ad82e5"},{"type":"Edge","source_node_id":"0a1edf3aa0e146c19cfceefeced1f092","target_node_id":"801e355d3842402bb2c3d008a311b022","id":"2368972c32de415d817428f2b0110c68"},{"type":"Edge","source_node_id":"269ae77b44914873a12e65629f9bea3e","target_node_id":"8c7206f6f58c4768b58a391e1e2023ec","id":"a7f4fdc24f764c0ea2ffb762f596adce"},{"type":"Edge","source_node_id":"8c7206f6f58c4768b58a391e1e2023ec","target_node_id":"dbdcd0724b854098b759e7ba52177fce","branch_id":"d17e67b3692e44a7b202fbbe77110baf","id":"4b1a42b64c8a4a3f946dc052aed6e224","name":"d17e67b3692e44a7b202fbbe77110baf"},{"type":"Edge","source_node_id":"8c7206f6f58c4768b58a391e1e2023ec","target_node_id":"c62e587d81944b349005a18a4116e47b","branch_id":"cb81af04640147de8d10361d94a5b40d","id":"eb480d17e5e644f99489d4926ba60bd9","name":"cb81af04640147de8d10361d94a5b40d"},{"type":"Edge","source_node_id":"dbdcd0724b854098b759e7ba52177fce","target_node_id":"27ac1cd79e30420c90b6c2f01dc1598a","id":"dbe63fe071ab487f9ea148b654a157ea"},{"type":"Edge","source_node_id":"27ac1cd79e30420c90b6c2f01dc1598a","target_node_id":"1e4e4cd8269f495db4f96485d108e681","id":"0d5ac340001340329e5419acd1de631e"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"id":"54a1e0704ff846c08ff749ff91f6388a","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"LiveAgent_queue","value":{"type":"String","mode":"string"},"id":"2fc4bfd8a3524a2b9515331d0c760de3","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"LiveAgent_hr_topic_id","value":{"type":"String","mode":"string","value":"b080796c5388330088d9ddeeff7b12af"},"id":"0165beec756447b0ba9afbeae213c48c","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"currentAddressMessage","value":{"type":"String","mode":"string"},"id":"330906c8248d432b94bbe740680ef360","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"isAddressBigOrNull","value":{"type":"String","mode":"string","value":"false"},"id":"b9c312b5495b48fe9290a5e9e19b8ca1","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"addressLength","value":{"type":"String","mode":"string"},"id":"91e7487775e540088c6e06ba2fb36afa","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"currentAddress","value":{"type":"String","mode":"string"},"id":"94a002aff8cd4623a43539fb40485ff9","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"Reference","table":"sn_hr_core_profile","id":"9b107b09c73e41ebaf9da704e6daaf1d","name":"user_profile","formatType":"text","secure":false,"sensitive":false},{"type":"String","name":"new_address","id":"cf6fd7924f394587a0f8ef2b4341196b","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Reference","table":"sn_hr_core_profile","id":"9714d34cabdd4bb3aa97d030a53d18c2","name":"update_address","formatType":"text","secure":false,"sensitive":false},{"type":"Choice","choices":[{"name":"Update address","element":"update_address"},{"name":"Keep current address","element":"keep_current_address"}],"id":"740ede3ba6d2476c8aad9e1855c46b85","name":"user_choice","formatType":"text","secure":false,"sensitive":false},{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":["sn_hr_sp.hrsp_alumni","sn_hr_sp.hrsp_contingent","sn_hr_sp.hrsp_contractor","sn_hr_sp.hrsp_employee","sn_hr_sp.admin"],"scope":"c8c5545573d8130000e588e54cf6a71a","domain":"global","topic_type":"STANDARD","channels":[],"id":"b080796c5388330088d9ddeeff7b12af","name":"Update Address (Template)","key_phrases":["Update Address (Template)","Update","Address","Personal","Information","Current Address"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_categories":[{"name":null,"visible":false,"sysId":"ccde424173f0330018dd3ae234f6a7bf"}],"triggerable_by_notification":false,"auto_resolution_enabled":false,"library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>b080796c5388330088d9ddeeff7b12af</design_topic_id>
        <name>Update Address (Template)</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-07-29 14:51:14</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>a5f7ffc32fa130106daee36ef699b660</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_a5f7ffc32fa130106daee36ef699b660</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-07-29 14:51:14</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
